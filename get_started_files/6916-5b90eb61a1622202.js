try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2be3d56f-dd16-4d43-873d-ab13c0e156d8",e._sentryDebugIdIdentifier="sentry-dbid-2be3d56f-dd16-4d43-873d-ab13c0e156d8")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6916],{83391:(e,n,t)=>{t.d(n,{Fw:()=>y,HF:()=>T,IX:()=>N,Ql:()=>g,UF:()=>f,Xq:()=>b,_R:()=>w,c2:()=>h,p9:()=>m,te:()=>p,vw:()=>v});var o=t(67143),i=t(97393),r=t(36102),l=t.n(r),a=t(36002),d=t(61150),u=t(30602),c=t(61620),s=t(23381),f=function(e){var n=document.createElement("textarea");return n.textContent=e,n.innerHTML},h=function(e){var n=[];return e&&e.forEach&&0!==e.length&&e.forEach(function(e){if(e.nodeType===Node.TEXT_NODE&&e.textContent)n.push([f(e.textContent)]);else if(e.nodeType===Node.ELEMENT_NODE&&(e.childNodes.length>0||"BR"===e.nodeName)&&"SCRIPT"!==e.nodeName){var t,o,i,r,l,a=[];switch(e.nodeName){case"B":a.push(["font-weight","bold"]);break;case"U":a.push(["text-decoration","underline"]);break;case"I":a.push(["font-style","italic"]);break;case"A":var d=e.href;((null==d?void 0:d.match(/^http(s)?:\/\//))||(null==d?void 0:d.match(/^mailto:/))||(null==d?void 0:d.match(/^tel:/))||(null==d?void 0:d.match(/^sms:/)))&&a.push(["href",d]);break;case"FONT":var u=e.color;(null==u?void 0:u.match(/#[0-9a-fA-F]{3,6}/))&&a.push(["color",u]);break;case"DIV":a.push(["tag","div"]);break;case"P":a.push(["tag","p"]);break;case"BR":a.push(["tag","br"]);break;case"SPAN":a.push(["tag","span"])}var c=e.style;if(((null==c?void 0:null===(t=c.color)||void 0===t?void 0:t.match(/#[0-9a-fA-F]{3,6}/))||(null==c?void 0:null===(o=c.color)||void 0===o?void 0:o.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==c?void 0:c.color)==="inherit")&&a.push(["color",c.color]),((null==c?void 0:null===(i=c.backgroundColor)||void 0===i?void 0:i.match(/#[0-9a-fA-F]{3,6}/))||(null==c?void 0:null===(r=c.backgroundColor)||void 0===r?void 0:r.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==c?void 0:c.backgroundColor)==="inherit")&&a.push(["background-color",c.backgroundColor]),null==c?void 0:c.fontWeight){var s=null==c?void 0:c.fontWeight;["bolder","lighter"].includes(s)&&(s="bold"),a.push(["font-weight",s])}(null==c?void 0:c.fontStyle)&&a.push(["font-style",c.fontStyle]),(null==c?void 0:c.textDecoration)&&a.push(["text-decoration",c.textDecoration]),(null==c?void 0:c.display)&&a.push(["display",c.display]),"SPAN"===e.nodeName&&(null===(l=e.className)||void 0===l?void 0:l.indexOf("mention"))!==-1&&a.push(["mention",e.dataset.uuid]),a.length>0&&(1===e.childNodes.length&&e.childNodes[0].nodeType===Node.TEXT_NODE&&e.childNodes[0].textContent?n.push([f(e.childNodes[0].textContent),a]):"BR"===e.nodeName?n.push(["",a]):n.push([h(e.childNodes),a]))}}),n},v=function(e,n,t){return e&&0!==e.length&&0!==n.length?e.map(function(e){var i=(0,o._)(e,2),r=i[0],l=i[1],a=!1,d=null==l?void 0:l.filter(function(e){var i=(0,o._)(e,2),r=i[0],l=i[1];if("mention"===r){var d=n.find(function(e){return e.uuid===l});if(!d||void 0===t.find(function(e){return e.uuid===d.field.uuid}))return a=!0,!1}return!0});return a?["",d]:["string"==typeof r?r:v(r,n,t),l]}):e},m=function(e){var n=document.createElement("div");return n.innerHTML=e,(0,i.cD)(h(n.childNodes))},p=function(e,n,t,o){if("undefined"==typeof document)return"";var r=(0,i.cD)(e.safeHTMLSchema);r=r.replace(/\u200B/g,"");var l=document.createElement("div");l.innerHTML=r;var a=!0,u=!1,c=void 0;try{for(var f,h=e.mentions[Symbol.iterator]();!(a=(f=h.next()).done);a=!0)!function(){var e,r,a,u=f.value,c=u.uuid,h=u.field,v=u.defaultValue,m=l.querySelectorAll('[data-uuid="'.concat(c,'"]'));if(0!==m.length){var p=h.uuid,b=h.type,y=h.questionType,g=h.blockGroupUuid,N=h.calculatedFieldType,T="";b===i.PU.Metadata?T=o[p]:b===i.PU.InputField&&y&&g?T=y===i._B.InputDate?null!==(e=t[g])&&void 0!==e?e:"":(0,s.S4)(y,t[g],n):[i.PU.CalculatedField,i.PU.HiddenField].includes(b)&&p&&g&&(T=(null===(r=t[g])||void 0===r?void 0:r[p])?t[g][p]:""),b===i.PU.CalculatedField&&N===i.ZH.Number&&"number"==typeof T&&(T=(0,i.U7)(T,2)),h.questionType===i._B.Matrix&&(T=(null!==(a=t[h.blockGroupUuid][h.uuid])&&void 0!==a?a:[]).map(function(e){return(0,d.Q)(e,n)}).join(",")),(l.textContent.startsWith("http")||l.textContent.startsWith("www."))&&("string"!=typeof T||-1===T.indexOf("/"))&&(T=encodeURIComponent(T)),m.forEach(function(e){e.innerHTML=(null==T?void 0:T.toString())||v||""})}}()}catch(e){u=!0,c=e}finally{try{a||null==h.return||h.return()}finally{if(u)throw c}}return(0,i.Pl)(l.textContent,!0)},b=function(e){return!(e&&Array.isArray(null==e?void 0:e.safeHTMLSchema))||0===(0,i.QZ)((0,i.cD)(e.safeHTMLSchema)).length},y=function(){var e=document.createElement("div");return e.innerHTML="Tally Forms",{safeHTMLSchema:h(e.childNodes),mentions:[]}},g=function(e){var n=H("Form name",(0,c.ww)(e,{includeMetadata:!0}).find(function(e){return"formName"===e.uuid})),t=n.mentionObj,o=n.mentionHtml,i=document.createElement("div");return i.innerHTML="New Tally Form Submission for ".concat(o),{safeHTMLSchema:h(i.childNodes),mentions:[t]}},N=function(e){var n=[],t=(0,c.ww)(e),o="",i=!0,r=!1,a=void 0;try{for(var d,u=t[Symbol.iterator]();!(i=(d=u.next()).done);i=!0){var s=d.value,f=H(s.title,s),v=f.mentionObj,m=f.mentionHtml;o+="<div><b>".concat(l().encode(s.title),"</b></div><div>").concat(m,"</div><br/>"),n.push(v)}}catch(e){r=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(r)throw a}}var p=document.createElement("div");return p.innerHTML=o,{safeHTMLSchema:h(p.childNodes),mentions:n}},T=function(e){var n=[],t="",o=H("Form name",(0,c.ww)(e,{includeMetadata:!0}).find(function(e){return"formName"===e.uuid})),i=o.mentionObj,r=o.mentionHtml;t+="<div>New submission for *".concat(r,"*.</div><br/>"),n.push(i);var a=!0,d=!1,u=void 0;try{for(var s,f=(0,c.ww)(e)[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var v=s.value,m=H(v.title,v),p=m.mentionObj,b=m.mentionHtml;t+="<div>*".concat(l().encode(v.title),"*: ").concat(b,"</div>"),n.push(p)}}catch(e){d=!0,u=e}finally{try{a||null==f.return||f.return()}finally{if(d)throw u}}var y=document.createElement("div");return y.innerHTML=t,{safeHTMLSchema:h(y.childNodes),mentions:n}},w=function(e){var n=H(e.title,e),t=n.mentionObj,o=n.mentionHtml,i=document.createElement("div");return i.innerHTML=o,{safeHTMLSchema:h(i.childNodes),mentions:[t]}},H=function(e,n){var t=(0,a.A)();return{mentionObj:{uuid:t,field:n},mentionHtml:'<span class="mention" contenteditable="false" data-uuid="'.concat(t,'">@').concat(l().encode(e),"</span>").concat((0,u.nr)()?"â€‹":"")}}},99460:(e,n,t)=>{t.d(n,{f:()=>l,y:()=>r});var o=t(51220),i=t(68884),r=function(e){return new Promise(function(n){return setTimeout(n,e)})},l=function(){var e=(0,o._)(function(e){var n,t,o,l=arguments;return(0,i.YH)(this,function(i){switch(i.label){case 0:n=l.length>1&&void 0!==l[1]?l[1]:250,t=l.length>2&&void 0!==l[2]?l[2]:null,o=0,i.label=1;case 1:if(!(!e()&&(null===t||o<t)))return[3,3];return[4,r(n)];case 2:return i.sent(),o+=n,[3,1];case 3:return[2]}})});return function(n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=6916-5b90eb61a1622202.js.map