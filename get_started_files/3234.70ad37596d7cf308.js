try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d4f36adf-cf72-4772-8cad-4899fe36ae8c",e._sentryDebugIdIdentifier="sentry-dbid-d4f36adf-cf72-4772-8cad-4899fe36ae8c")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3234,6973],{3234:(e,n,t)=>{t.r(n),t.d(n,{default:()=>B});var r=t(6029),o=t(35977),i=t(99649),l=t(93096),u=t(67143),c=t(83242),a=t(11838),s=t(55729),d=t(47076),f=t(5090),h=t(41735),g=t(67328),v=t(13153),p=t(86772),y=t(30602),C=t(36973),m=t(70759),S=t(79832),b=t(77646),A=h.Ay.div.withConfig({componentId:"sc-f8f90e-0"})(["position:absolute;top:0;padding:0 ","px;display:flex;align-items:center;justify-content:flex-end;height:100%;cursor:pointer;border:0;border-radius:5px;"," "," > svg{"," pointer-events:none;color:",";}> div{font-size:13px;color:",";}@media (hover:hover){&:hover{> div{color:",";}}}"],function(e){return e.theme.form.inputHorizontalPadding-4},function(e){var n=e.theme;return(0,b.i7)("right","0",n.direction)},function(e){return"rtl"===e.theme.direction&&"flex-direction: row-reverse;"},function(e){var n=e.theme;return(0,b.i7)("margin-left","6px",n.direction)},function(e){return e.theme.color.textGrayscale3},function(e){return e.theme.color.textGrayscale2},function(e){return e.theme.color.textGrayscale1}),T=h.Ay.div.withConfig({componentId:"sc-f8f90e-1"})(["position:relative;direction:ltr;.tally-context-menu{width:100%;max-height:400px;}"," ",""],function(e){var n=e.theme;return!1===e.hasCountryCode&&"\n    input {\n      ".concat((0,b.i7)("padding-right","".concat(83+n.form.inputHorizontalPadding-4,"px"),n.direction),";\n      ").concat("rtl"===n.direction&&"text-align: right;",";\n    }\n\n    ").concat(A," {\n      background-color: transparent;\n    }\n  ")},function(e){var n=e.hasCountryCode,t=e.theme;return!0===n&&"\n    input {\n      ".concat((0,b.i7)("padding-right","".concat(54+t.form.inputHorizontalPadding-4,"px"),t.direction),";\n      ").concat("rtl"===t.direction&&"text-align: right;",";\n    }\n  ")}),M=h.Ay.div.withConfig({componentId:"sc-f8f90e-2"})(["position:absolute;top:0;pointer-events:none;background-color:transparent;display:flex;align-items:center;width:100%;height:100%;padding:0 ","px;color:",";span:nth-child(1){color:transparent;}span:nth-child(2){font-size:19px;}",""],function(e){return e.theme.form.inputHorizontalPadding},function(e){return e.theme.color.inputPlaceholder},function(e){return"rtl"===e.theme.direction&&"display: none;"}),N=h.Ay.div.withConfig({componentId:"sc-f8f90e-3"})(["color:",";padding-left:",";"],function(e){return e.theme.color.textGrayscale2},function(e){return e.theme.spacing.sm}),x=function(e){return e.Manual="MANUAL",e.Auto="AUTO",e}(x||{});let k=function(e){var n,t=e.defaultValue,b=e.defaultCountryCode,x=e.inputProps,k=e.onChange,w=(0,f.B)().t,G=(0,h.DP)(),B=(0,s.useRef)(null),I=(0,u._)((0,s.useState)(null!=t?t:""),2),P=I[0],R=I[1],O=(0,u._)((0,s.useState)(t?(0,C.formatPhoneNumber)(t):""),2),D=O[0],E=O[1],U=(0,u._)((0,s.useState)(null!=b?b:null),2),j=U[0],_=U[1],L=(0,u._)((0,s.useState)({showMask:!1,showSelectButton:!!t,selectTrigger:null}),2),F=L[0],K=L[1],H=(0,s.useRef)(!0),V=(0,s.useRef)(!0),J=(0,s.useRef)(""),W=(0,s.useRef)(!1),q=(0,s.useRef)(null),Z=function(){var e=(null==x?void 0:x.id)?(0,S.QJ)(x.id,t,b):null;if(e)return _(e),e;if(!t)return _(null!=b?b:null),null!=b?b:null;var n=(0,m.R7)(t);return _(n),n},z=(0,v.o)(),Y=(0,s.useMemo)(function(){var e=[];for(var n in z)e.push({code:n,country:z[n],callingCode:m.Tc[n]});return e.sort(function(e,n){return e.country.localeCompare(n.country)})},[z]),Q=function(e){if(""===e||"+"===e)return[];var n=Y.filter(function(n){return n.callingCode.startsWith(e)}).sort(function(e,n){return e.callingCode>n.callingCode?1:-1});return(0,m.Qh)(n,e)},X=function(e){if(""===e||"+"===e)return[];var n=(0,m.wb)(P);if(0===n.length)return[];var t=Y.filter(function(e){return n.includes(e.code)}).sort(function(e,n){return e.callingCode>n.callingCode?1:-1});return(0,m.Qh)(t,e)},$=(0,s.useMemo)(function(){var e=[],n=[],t=[],r=Q(P);if(n=r,0===r.length||"MANUAL"===F.selectTrigger){var o=[];0===r.length&&(o=X(P)),n=(0,c._)(r).concat((0,c._)(o)),t=Y.filter(function(e){return!(0,c._)(r.map(function(e){return e.code})).concat((0,c._)(o.map(function(e){return e.code}))).includes(e.code)})}return n.length>0&&e.push({options:n}),t.length>0&&e.push({options:t}),e},[P,F]),ee=function(e){return e&&m.Tc[e]?m.Tc[e]:"+"},en=function(e){0!==Object.keys(e).length&&K((0,i._)({},F,e))},et=function(e,n,t){if(W.current=!1,""!==e&&!1===e.startsWith("+")&&e.length>1){if(j){var r,o=m.Tc[j];o&&(e=e.startsWith(o.substring(1))?"+".concat(e):"".concat(null!==(r=m.Tc[j])&&void 0!==r?r:"").concat(e))}else W.current=!0}/[٠-٩]/.test(e)&&(e=e.replace(/[٠-٩]/g,function(e){return"٠١٢٣٤٥٦٧٨٩".indexOf(e).toString()}));var i=(0,m.R7)(e);i?!n&&i?(_(i),n=i):n&&i&&n!==i&&m.Tc[n]!==m.Tc[i]?(_(i),n=i):n!==j&&_(n):(_(null),n=null);var l=(0,C.formatPhoneNumber)(e,n);if(t){var u=t.selectionStart||0,c=null;e!==l&&e.length!==u&&(0===u?c=1:e.slice(0,u)===l.slice(0,u)?c="Delete"===J.current&&isNaN(parseFloat(l.charAt(u)))?u+1:u:e.charAt(u-1)!==l.charAt(u-1)&&(isNaN(parseFloat(J.current))?c=u:isNaN(parseFloat(l.charAt(u-1)))&&(c=u+1))),null!==c&&window.requestAnimationFrame(function(){t.selectionStart=c,t.selectionEnd=c})}e=(0,C.getPhoneNumber)(l),E(l),R(e),k(e),(null==x?void 0:x.id)&&(0,S.yH)(x.id,e,n);var a=Q(e);!el&&n&&a.length>1&&(ea(!0),en({selectTrigger:"AUTO"})),el&&"AUTO"===F.selectTrigger&&(!n||0===a.length)&&ea(!1)},er=function(e){var n;m.Tc[e]&&(W.current?(et("".concat(m.Tc[e]).concat(P.replace("+","")),e),W.current=!1):j&&m.Tc[j]&&P.length>m.Tc[e].length?et(P.replace(m.Tc[j],m.Tc[e]),e):!j&&P.length>m.Tc[e].length?et("".concat(m.Tc[e]).concat(P.replace("+","")),e):et(m.Tc[e],e),ea(!1),null===(n=B.current)||void 0===n||n.focus())};(0,s.useEffect)(function(){var e=null;H.current&&(H.current=!1,e=Z(),t&&e&&en({showSelectButton:!0})),t!==P&&(R(null!=t?t:""),E(t?(0,C.formatPhoneNumber)(t):""),e=Z()),t&&e&&!F.showSelectButton&&en({showSelectButton:!0})},[t]);var eo=(n=[]).concat.apply(n,(0,c._)($.map(function(e){return e.options}))),ei=(0,p.f)({optionsSize:eo.length-1,onSelection:function(e){er(eo[e].code)}}),el=ei.isSelectOpen,eu=ei.onKeyDown,ec=ei.selectedIndex,ea=ei.toggleSelectionMenu;return(0,s.useEffect)(function(){if(null!==ec){var e;(0,y.cR)(null===(e=q.current)||void 0===e?void 0:e.parentElement,eo[ec].code)}},[ec]),(0,r.jsxs)(T,{hasCountryCode:!!j,children:[(0,r.jsx)(o.A,(0,l._)((0,i._)({},x),{ref:B,type:"tel",value:D,onFocus:function(){var e=null;V.current&&(V.current=!1,e=Z()),!el&&(F.showMask||en({showMask:!0,showSelectButton:!0}),""===D&&setTimeout(function(){return E(ee(null!=e?e:j))},10))},onBlur:function(){if(!el){var e={};F.showMask&&(e.showMask=!1),("+"===D||D===ee(j))&&(E(""),""!==P&&(R(""),k("")),e.showSelectButton=!1),en(e)}},onKeyDown:eu,onChange:function(e){return et(e.target.value,j,e.target)}})),F.showMask&&(0,r.jsxs)(M,{children:[(0,r.jsx)("span",{children:D}),(0,r.jsx)("span",{children:(0,C.getRemainingMaskForPhoneNumber)(D,j)})]}),F.showSelectButton&&(0,r.jsxs)(A,{onMouseDown:function(e){return e.preventDefault()},onClick:function(){ea(!0),en({selectTrigger:"MANUAL"})},children:[j?(0,r.jsx)(d.A,{country:(0,m.qw)(j),size:16}):(0,r.jsx)("div",{children:w("label.country")}),(0,r.jsx)(a.A,{size:16})]}),el&&(0,r.jsx)(g.Ay,{position:{top:G.form.inputHeight+4,left:0,bottom:G.form.inputHeight+4,right:0},width:"auto",onClose:function(){var e;ea(!1),null===(e=B.current)||void 0===e||e.focus()},children:(0,r.jsx)(g.B8,{ref:q,withSectionDivider:!0,children:$.map(function(e,n){var t=e.options;return(0,r.jsx)(g.wn,{children:t.map(function(e){var n=e.code,t=e.callingCode,o=e.country,i=["list-item"];return null!==ec&&n===eo[ec].code&&i.push("selected"),(0,r.jsx)(g.q7,{id:n,className:i.join(" "),label:o,actionContent:(0,r.jsx)(N,{children:t}),onClick:function(){return er(n)}},n)})},"group_".concat(n))})})})]})};var w=t(14698),G=t(28548);let B=function(e){var n,t,i=e.value,l=void 0===i?"":i,u=e.placeholder,c=void 0===u?"":u,a=e.isRequired,s=e.internationalFormat,d=e.defaultCountryCode,f=e.error,h=e.question,g=e.language,v=e.onChange,p=e.renderRequiredIndicator,y=f?"error_".concat(null==h?void 0:h.blockGroupUuid):void 0;return s?(0,r.jsx)(G.m,{children:(0,r.jsxs)(G.U,{children:[(0,r.jsx)(k,{defaultValue:l,defaultCountryCode:d,language:g,inputProps:{id:null==h?void 0:h.blockGroupUuid,placeholder:c,required:a,autoComplete:"tel","aria-label":null!==(t=null==h?void 0:h.title)&&void 0!==t?t:void 0,"aria-required":a?"true":"false","aria-invalid":f?"true":"false","aria-describedby":y},onChange:function(e){return null==v?void 0:v(e)}}),p&&p(),f&&(0,r.jsx)(w.A,{id:y,error:f})]})}):(0,r.jsx)(G.m,{children:(0,r.jsxs)(G.U,{children:[(0,r.jsx)(o.A,{id:null==h?void 0:h.blockGroupUuid,type:"tel",value:l,placeholder:c,required:a,autoComplete:"tel","aria-label":null!==(n=null==h?void 0:h.title)&&void 0!==n?n:void 0,"aria-required":a?"true":"false","aria-invalid":f?"true":"false","aria-describedby":y,onChange:function(e){return null==v?void 0:v(e.target.value)}}),p&&p(),f&&(0,r.jsx)(w.A,{id:y,error:f})]})})}},11838:(e,n,t)=>{t.d(n,{A:()=>r});var r=(0,t(28246).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},13153:(e,n,t)=>{t.d(n,{o:()=>l});var r=t(97393),o=t(55729),i=t(5090),l=function(){var e=(0,i.B)().t;return(0,o.useMemo)(function(){return(0,r.X6)(e)},[e("json.countries")])}},36973:(e,n,t)=>{t.r(n),t.d(n,{formatPhoneNumber:()=>u,getMaskForPhoneNumber:()=>i,getPhoneNumber:()=>c,getRemainingMaskForPhoneNumber:()=>l,isPhoneNumberValid:()=>a});var r=t(64758),o=t(70759),i=function(e,n){var t=(e.length<3?"+## ### ## ## ##":"+### ## ### ###").replace(/#/g,"_");if(n||(n=(0,o.R7)(e)),n)try{var i=(0,r.lq)(e,{regionCode:n}).type;i&&"unknown"!==i||(i="mobile"),t=(0,r.rI)(n,i).number.international.replace(/[0-9]/g,"_")}catch(e){}return n?t:"+###".replace(/#/g,"_")},l=function(e,n){return i(e,n).substring(e.length)},u=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=i(e,n),r=e.replace(/[^0-9]/g,""),o="",l=0,u=0;u<t.length;u++)if("_"===t[u]){if(o+=r[l]||"",++l>=r.length)break}else o+=t[u];return l<r.length&&(o+=r.substring(l)),o},c=function(e){var n=e.replace(/[^0-9]/g,"");if(0===n.length)return"";var t="+".concat(n),i=(0,o.R7)(e);if(!i)return t;try{var l,u,c=(0,r.lq)(e,{regionCode:i});return null!==(u=null===(l=c.number)||void 0===l?void 0:l.e164)&&void 0!==u?u:t}catch(e){return t}},a=function(e){if(0===e.replace(/[^0-9]/g,"").length)return!1;var n=(0,o.wb)(e);if(0===n.length)return!1;var t=!1;try{var i=!0,l=!1,u=void 0;try{for(var c,a=n[Symbol.iterator]();!(i=(c=a.next()).done);i=!0){var s=c.value;if((0,r.lq)(e,{regionCode:s}).valid){t=!0;break}}}catch(e){l=!0,u=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw u}}}catch(e){}return t}},47076:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(55729),o=["AD","AE","AF","AG","AI","AL","AM","AO","AR","AS","AT","AU","AW","AX","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LGBT","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","XK","YE","YT","ZA","ZM","ZW","EU","GB-ENG","GB-NIR","GB-SCT","GB-WLS","GB-ZET","US-CA"];let i=function(e){var n=e.country,t=void 0===n?"US":n,i=e.role,l=e.size,u=void 0===l?24:l,c=e.alt,a=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n.indexOf(t=i[r])>=0||(o[t]=e[t]);return o}(e,["country","role","size","alt"]);if(t){var s=t.toUpperCase();return void 0!==o.find(function(e){return e===t})?r.createElement("img",Object.assign({src:"https://cdn.jsdelivr.net/gh/madebybowtie/FlagKit@2.2/Assets/SVG/"+s+".svg",role:void 0===i?"img":i,alt:null!=c?c:s+" Flag",height:u,width:u},a)):r.createElement("span",null,s)}return null}},79832:(e,n,t)=>{t.d(n,{QJ:()=>l,bR:()=>u,yH:()=>i});var r=t(85326),o="PHONE_NUMBER_INPUT",i=function(e,n,t){try{var i={},l=r.D.get(o);l&&(i=JSON.parse(l)),i.keys||(i.keys={}),i.lastCountryCode=t||i.lastCountryCode||null,n||t?i.keys[e]={value:n,countryCode:t}:delete i.keys[e],localStorage.setItem(o,JSON.stringify(i))}catch(e){}},l=function(e,n,t){try{var i={},l=r.D.get(o);if(l){if(i=JSON.parse(l),!n&&!t&&i.lastCountryCode)return i.lastCountryCode;if(i.keys&&i.keys[e]&&n===i.keys[e].value&&i.keys[e].countryCode)return i.keys[e].countryCode}}catch(e){}return null},u=function(e){try{var n=r.D.get(o);if(!n)return;var t=JSON.parse(n);if(!t.keys)return;var i=!1,l=!0,u=!1,c=void 0;try{for(var a,s=e[Symbol.iterator]();!(l=(a=s.next()).done);l=!0){var d=a.value;t.keys[d]&&(delete t.keys[d],i=!0)}}catch(e){u=!0,c=e}finally{try{l||null==s.return||s.return()}finally{if(u)throw c}}0===Object.keys(t.keys).length&&(delete t.keys,i=!0),i&&localStorage.setItem(o,JSON.stringify(t))}catch(e){}}},86772:(e,n,t)=>{t.d(n,{f:()=>l});var r=t(99649),o=t(67143),i=t(55729),l=function(e){var n=e.optionsSize,t=e.onSelection,l=(0,i.useRef)(""),u=(0,o._)((0,i.useState)({isSelectOpen:!1,selectedIndex:null}),2),c=u[0],a=u[1],s=c.isSelectOpen,d=c.selectedIndex,f=function(){null!==d&&(t(d),h({isSelectOpen:!1}))},h=function(e){0!==Object.keys(e).length&&(void 0===e.isSelectOpen||e.isSelectOpen||(e.selectedIndex=null),a((0,r._)({},c,e)))};return{toggleSelectionMenu:function(e){h({isSelectOpen:e})},onKeyDown:function(e){if(l.current=e.key,s&&"Tab"===e.key){h({isSelectOpen:!1});return}if(s)switch(e.key){case"ArrowDown":case"ArrowUp":e.preventDefault();var t=null!=d?d:-1;"ArrowDown"===e.key?++t>n&&(t=0):"ArrowUp"===e.key&&--t<0&&(t=n),h({selectedIndex:t});break;case"Enter":e.preventDefault(),f();break;case" ":d&&(e.preventDefault(),f());break;case"Backspace":case"Delete":d&&h({selectedIndex:null})}},isSelectOpen:s,selectedIndex:d}}}}]);
//# sourceMappingURL=3234.70ad37596d7cf308.js.map